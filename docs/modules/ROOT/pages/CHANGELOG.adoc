= Changelog

[[release-0.8.0]]
== 0.8.0 (2026-02-27)

[IMPORTANT]
====
This release removes the `pkl-gen-swift` binary and replaces it with a new xref:main:pkl-cli:index.adoc#cli-tools[`pkl:Command`]-based tool `@pkl.swift/gen.pkl` (pr:https://github.com/apple/pkl-swift/pull/111[]).
This tool requires Pkl 0.31 or later.
Consult the xref:ROOT:quickstart.adoc#codegen[codegen] section of the quickstart for more information on how to use the new tool.
====

=== Features

* Support manual type registration to bypass potentially slow auto-discovery (pr:https://github.com/apple/pkl-swift/pull/110[]).

=== Contributors ❤️

* https://github.com/HT154[@HT154]
* https://github.com/johnliedtke[@johnliedtke]

[[release-0.7.2]]
== 0.7.2 (2025-12-01)

=== Fixes

* Fix malformed package URI caused by trailing newline in VERSION.txt (https://github.com/apple/pkl-swift/pull/92[#92]).

=== Contributors

Thank you to all our contributors!

* https://github.com/johnliedtke[@johnliedtke]

[[release-0.7.1]]
== 0.7.1 (2025-11-20)

=== Fixes

* Fix issue where the `pkl server` subprocess can hang (https://github.com/apple/pkl-swift/pull/86[#86]).
* Fix incorrect code generation for enum types in Swift 6 (https://github.com/apple/pkl-swift/pull/87[#87]).

=== Miscellaneous

* Tidy up phony targets in Makefile (https://github.com/apple/pkl-swift/pull/83[#83]).
* Switch CI to GitHub Actions (https://github.com/apple/pkl-swift/pull/84[#84], https://github.com/apple/pkl-swift/pull/85[#85]).

=== Contributors ❤️

Thank you to all our contributors!

* https://github.com/bioball[@bioball]
* https://github.com/HT154[@HT154]
* https://github.com/johnliedtke[@johnliedtke]

[[release-0.7.0]]
== 0.7.0 (2025-11-05)

=== Additions

* Support for configuring the new trace mode evaluator option introduced in Pkl 0.30 (https://github.com/apple/pkl-swift/pull/74[#74], https://github.com/apple/pkl-swift/pull/76[#76]).
* Support for using the `PklSwift` and `MessagePack` libraries on non-macOS Apple platforms (https://github.com/apple/pkl-swift/pull/78[#78]).
** Features of `PklSwift` that require process spawning have been removed or modified to throw errors on these platforms.

=== Fixes

* Fix handling for the `pkl.Class` and `pkl.TypeAlias` encoding changes introduced in Pkl 0.30 (https://github.com/apple/pkl-swift/pull/77[#77]).
* Fix a compiler warning in code generated by `pkl-gen-swift` (https://github.com/apple/pkl-swift/pull/73[#73]).
* Fix handling of module/resource reader schemes containing regex control characters (https://github.com/apple/pkl-swift/pull/81[#81]).

=== Miscellaneous

* Enforce Pkl code formatting (https://github.com/apple/pkl-swift/pull/82[#82]).

=== Contributors ❤️

Thank you to all our contributors!

* https://github.com/bioball[@bioball]
* https://github.com/HT154[@HT154]
* https://github.com/persello[@persello]


[[release-0.6.0]]
== 0.6.0 (2025-10-02)

=== Fixes

* Avoid unnecessary computations when debug logs are omitted (https://github.com/apple/pkl-swift/pull/60[#60]).
* Avoid generating typealiases of hidden properties (https://github.com/apple/pkl-swift/pull/63[#63]).
* Fix decoding of polymorphic types within collections (https://github.com/apple/pkl-swift/pull/66[#66]).
* Generate sibling types of an imported typealias (https://github.com/apple/pkl-swift/pull/70[#70]).

=== Additions

* Adds support for Swift 6 (https://github.com/apple/pkl-swift/pull/61[#61], https://github.com/apple/pkl-swift/pull/68[#68]).
* Adds support for decoding `Class` and `TypeAlias` values (https://github.com/apple/pkl-swift/pull/64[#64]).

=== Breaking Changes

* The code generation of optional keys has changed. A `Mapping` or `Map` with an optional key will be represented as `OptionalDictionaryKey<T>` in Swift. For example, `Mapping<String?, String>` becomes `[OptionalDictionaryKey<String>: String]` in Swift (https://github.com/apple/pkl-swift/pull/66[#66]).
+
[NOTE]
====
This is a breaking change to code that was already technically broken, because pkl-swift was incorrectly decoding `null` keys (see https://github.com/apple/pkl-swift/pull/66[#66]).
====

=== Contributors ❤️

Thank you to all our contributors!

* https://github.com/bioball[@bioball]
* https://github.com/HT154[@HT154]
* https://github.com/jcubit[@jcubit]
* https://github.com/mschrag[@mschrag]
* https://github.com/stackoverflow[@stackoverflow]

[[release-0.5.0]]
== 0.5.0 (2025-07-2)

=== Fixes

* Fixes an issue where URLs are incorrectly serialized (https://github.com/apple/pkl-swift/pull/55[#55]).

=== Additions

* Adds support for using PklProject with pkl-gen-swift (https://github.com/apple/pkl-swift/pull/52[#52]).
* Adds support for Pkl 0.29 features (https://github.com/apple/pkl-swift/pull/56[#56]).
** Add support for consuming `Bytes`, represented as type `[UInt8]` in Swift.
** Add support for HTTP rewrites.
** Add methods `Evaluator.evaluateOutputBytes()` and `Evaluator.evaluateOutputFilesBytes()`.

=== Changes

* Bump minimum Swift version to 5.10 (https://github.com/apple/pkl-swift/pull/53[#53]).

=== Breaking Changes

* `pkl-gen-swift` requires Pkl 0.29.0.
* In `EvaluatorOptions.withProjectEvaluatorSettings`: The `http.proxy.address` and `http.proxy.noProxy` options are applied separately (https://github.com/apple/pkl-swift/pull/56[#56]). +
+
This means that if a PklProject's evaluator settings only sets `http.proxy.address`, the current `noProxy` options are preserved.

=== Contributors ❤️

Thank you to all our contributors!

* https://github.com/bioball[@bioball]

[[release-0.4.2]]
== 0.4.2 (2025-04-14)

=== Fixes

* Fixes an issue where enum keys fail to be decoded (https://github.com/apple/pkl-swift/pull/45[#45]).
* Fixes an issue where unions of ints can possibly be decoded incorrectly (https://github.com/apple/pkl-swift/pull/47[#47]).

=== Miscellaneous

* Auto-generate DocC documentation in the Swift Package Index (https://github.com/apple/pkl-swift/pull/41[#41]).
* Update license headers (https://github.com/apple/pkl-swift/pull/43[#43]).

=== Contributors ❤️

Thank you to all our contributors!

* https://github.com/bioball[@bioball]

[[release-0.4.1]]
== 0.4.1 (2025-02-04)

=== Fixes

* Fixes an issue where union types might get decoded as the wrong Swift type (https://github.com/apple/pkl-swift/pull/39[#39]).

[[release-0.4.0]]
== 0.4.0 (2025-01-24)

=== Additions

* Add a new API for creating external readers, called `ExternalReaderClient` (https://github.com/apple/pkl-swift/pull/26[#26]).
* Add new fields to support new options available in Pkl 0.27 (https://github.com/apple/pkl-swift/pull/26[#26], https://github.com/apple/pkl-swift/pull/32[#32]):
    - In struct `EvaluatorOptions`: `externalModuleReaders` and `externalResourceReaders`.
    - In struct `PklEvaluatorSettings`: `externalModuleReaders`, `externalResourceReaders`, and `color`.

=== Changes

* Make `PathElement.init` public (https://github.com/apple/pkl-swift/pull/31[#31]).

=== Contributors ❤️

Thank you to all our contributors!

* https://github.com/HT154[@HT154]
* https://github.com/jcubit[@jcubit]
* https://github.com/bioball[@bioball]

[[release-0.3.0]]
== 0.3.0 (2024-10-10)

=== Additions

* Add support for Pkl 0.26 features (https://github.com/apple/pkl-swift/pull/23[#23]).
* Add support for Windows (https://github.com/apple/pkl-swift/pull/24[#24]).

=== Changes

* Code generation change: `registeredIdentifier` is changed from `var` to `let` (https://github.com/apple/pkl-swift/pull/3[#3]).

=== Breaking Changes

* Remove support for custom `Pair`, because it is not meant to describe configuration data, and also can be better implemented as a tuple (https://github.com/apple/pkl-swift/pull/21[#21]).

=== Miscellaneous

* Documentation improvements (https://github.com/apple/pkl-swift/pull/10[#10], https://github.com/apple/pkl-swift/pull/12[#12], https://github.com/apple/pkl-swift/pull/16[#16]).
* Remove iOS from supported platforms in Package.swift (this was never supported) (https://github.com/apple/pkl-swift/pull/14[#14]).
* Code improvements (https://github.com/apple/pkl-swift/pull/25[#25]).

=== Contributors ❤️

Thank you to all our contributors!

* https://github.com/bricklife[@bricklife]
* https://github.com/krzysztofzablocki[@krzysztofzablocki]
* https://github.com/redryerye[@redryerye]
* https://github.com/shsw228[@shsw228]
* https://github.com/kasugamirai[@kasugamirai]
* https://github.com/Kila2[@Kila2]

[[release-0.2.3]]
== 0.2.3 (2024-02-04)

=== Fixes

* Fixes one more Pkl module whose name was incorrect

=== Contributors ❤️

Thank you to all our contributors!

* https://github.com/bioball[@bioball]

[[release-0.2.2]]
== 0.2.2 (2024-02-04)

=== Fixes

* Fixes an issue where module names in Pkl module pkl.swift do not match the package name
* Fix some documentation issues on the website

=== Contributors ❤️

Thank you to all our contributors!

* https://github.com/bioball[@bioball]

[[release-0.2.1]]
== 0.2.1 (2024-02-02)

Fix bug in pkl package url.

=== Contributors ❤️

Thank you to all our contributors!

* https://github.com/stackoverflow[@stackoverflow]

[[release-0.2.0]]
== 0.2.0 (2024-02-02)

Initial library release.
